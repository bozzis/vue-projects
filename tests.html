<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Composition API Example</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  </head>
  <body>
    <div id="app">
      <input type="text" :value="username" />
      <p>Username: {{ username }}</p>
      <button @click="updateUsername">Click me!</button>
      <span :style="{'color': statusColor}">{{status}}</span>
    </div>

    <script>
      const { createApp, ref, computed } = Vue;

      createApp({
        setup() {
          let status = ref("active");
          const username = ref("John Doe");
          const updateName = () => {
            name.value = "abc"; // Update name to reflect input changes
          };
          const updateUsername = () => {
            username.value = "Johnny Doe!";
            if (status.value === "active") {
              status.value = "pending";
            } else if (status.value === "pending") {
              status.value = "inactive";
            } else status.value = "active";
          };
          const statusColor = computed(() => {
            switch (status.value) {
              case "active":
                return "green";
              case "inactive":
                return "red";
              case "pending":
                return "yellow";
              default:
                return "black";
            }
          });
          const statusColor2 = () => "green";

          return {
            username,
            updateUsername,
            status,
            statusColor,
            statusColor2,
          };
        },
      }).mount("#app");
    </script>
  </body>
</html>
